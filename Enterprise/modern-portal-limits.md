---
title: SharePoint Online 新式门户网站限制
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 10/9/2019
audience: Admin
ms.topic: interactive-tutorial
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- MET150
description: 了解 SharePoint Online 中新式网站的性能建议。
ms.openlocfilehash: 227eadd780acbe35456ca48204762411bed6c10f
ms.sourcegitcommit: 99411927abdb40c2e82d2279489ba60545989bb1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/07/2020
ms.locfileid: "41844783"
---
# <a name="sharepoint-online-modern-portal-site-limits"></a><span data-ttu-id="089e8-103">SharePoint Online 新式门户网站限制</span><span class="sxs-lookup"><span data-stu-id="089e8-103">SharePoint Online modern portal site limits</span></span>

<span data-ttu-id="089e8-104">本文提供了 SharePoint Online 中新式门户网站的性能建议。</span><span class="sxs-lookup"><span data-stu-id="089e8-104">This article provides performance recommendations for modern portal sites in SharePoint Online.</span></span> <span data-ttu-id="089e8-105">使用本文中的准则可优化新式门户网站性能并避免出现常见的性能问题。</span><span class="sxs-lookup"><span data-stu-id="089e8-105">Use the guidelines in this article to optimize modern portal site performance and avoid common performance issues.</span></span>

## <a name="performance-considerations-for-modern-portal-sites"></a><span data-ttu-id="089e8-106">新式门户网站的性能注意事项</span><span class="sxs-lookup"><span data-stu-id="089e8-106">Performance considerations for modern portal sites</span></span>

<span data-ttu-id="089e8-107">从性能优化的角度来看，有几种特征可使新式门户网站独一无二。</span><span class="sxs-lookup"><span data-stu-id="089e8-107">From the standpoint of performance optimization, there are a few characteristics that make modern portal sites unique.</span></span> <span data-ttu-id="089e8-108">SharePoint Online 中的协作网站和门户网站之间的主要差异是扩展。</span><span class="sxs-lookup"><span data-stu-id="089e8-108">The principal difference between collaboration and portal sites in SharePoint Online is scale.</span></span> <span data-ttu-id="089e8-109">与协作网站相比，门户网站通常会向更多的用户提供更多的页面视图，并且可能包含更多的静态内容和可编辑的资源。</span><span class="sxs-lookup"><span data-stu-id="089e8-109">Portal sites are generally expected to serve more page views to a greater number of users than collaboration sites, and are likely to contain more static content and fewer editable resources.</span></span> <span data-ttu-id="089e8-110">此外，新式站点的体系结构与经典网站的不同之处在于，呈现页面和执行代码的大部分处理都是在客户端而不是服务器上进行。</span><span class="sxs-lookup"><span data-stu-id="089e8-110">Additionally, the architecture of modern sites differs from classic sites in that most of the processing involved in rendering pages and executing code takes place on the client rather than the server.</span></span>

<span data-ttu-id="089e8-111">新式门户网站的性能优化主要侧重于一些总体目标：</span><span class="sxs-lookup"><span data-stu-id="089e8-111">Performance optimization for modern portal sites is primarily focused on a few overall objectives:</span></span>

- <span data-ttu-id="089e8-112">减小每个网站页面的组件的总大小</span><span class="sxs-lookup"><span data-stu-id="089e8-112">Reduce the total size of the components of each site page</span></span>
- <span data-ttu-id="089e8-113">将常见静态文件（如图像、样式表和脚本）的卸载托管到 CDN</span><span class="sxs-lookup"><span data-stu-id="089e8-113">Offload hosting of common static files such as images, stylesheets and scripts to CDN</span></span>
- <span data-ttu-id="089e8-114">仅对 SharePoint 和外部终结点的调用限制为必需</span><span class="sxs-lookup"><span data-stu-id="089e8-114">Limit calls to SharePoint and external endpoints to only what is necessary</span></span>
- <span data-ttu-id="089e8-115">避免对相同内容的重复请求</span><span class="sxs-lookup"><span data-stu-id="089e8-115">Avoid duplicate requests for the same content</span></span>

<span data-ttu-id="089e8-116">本文中的许多准则主要侧重于最大限度地减少和优化对 SharePoint Online 的调用。</span><span class="sxs-lookup"><span data-stu-id="089e8-116">Many of the guidelines in this article focus on minimizing and optimizing calls to SharePoint Online.</span></span> <span data-ttu-id="089e8-117">每次加载页面时进行重复调用都会影响用户的性能，因为即使信息未发生更改，也会从服务中检索信息。</span><span class="sxs-lookup"><span data-stu-id="089e8-117">Making repetitive calls each time a page is loaded will impact performance for users as the information will be retrieved from the service each time even if it has not changed.</span></span> <span data-ttu-id="089e8-118">因此，可以将 SharePoint 请求分类为对所有用户或每个用户所需的呼叫通用的呼叫。</span><span class="sxs-lookup"><span data-stu-id="089e8-118">As such, requests to SharePoint can be categorized either as calls that are common for all users or calls required for each individual user.</span></span> <span data-ttu-id="089e8-119">应缓存来自这两个呼叫类别的结果，以优化用户体验。</span><span class="sxs-lookup"><span data-stu-id="089e8-119">Results from these two call categories should be cached to optimize the user experience.</span></span>

>[!NOTE]
><span data-ttu-id="089e8-120">使用[sharepoint 工具的页面诊断工具](https://aka.ms/perftool)作为分析 sharepoint Online 网站页面上的特定性能指标的起始点。</span><span class="sxs-lookup"><span data-stu-id="089e8-120">Use the [Page Diagnostics for SharePoint tool](https://aka.ms/perftool) as a starting point to analyze specific performance metrics on SharePoint Online site pages.</span></span>

## <a name="modern-portal-site-limits-and-recommendations"></a><span data-ttu-id="089e8-121">新式门户网站限制和建议</span><span class="sxs-lookup"><span data-stu-id="089e8-121">Modern portal site limits and recommendations</span></span>

|<span data-ttu-id="089e8-122">**限制**</span><span class="sxs-lookup"><span data-stu-id="089e8-122">**Limit**</span></span>|<span data-ttu-id="089e8-123">**建议的最大值**</span><span class="sxs-lookup"><span data-stu-id="089e8-123">**Maximum recommended value**</span></span>|<span data-ttu-id="089e8-124">**Notes**</span><span class="sxs-lookup"><span data-stu-id="089e8-124">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="089e8-125">页面和新闻项目</span><span class="sxs-lookup"><span data-stu-id="089e8-125">Pages and news items</span></span>  <br/> |<span data-ttu-id="089e8-126">每个网站 5,000 个</span><span class="sxs-lookup"><span data-stu-id="089e8-126">5,000 per site</span></span>  <br/> |<span data-ttu-id="089e8-127">建议将新式门户网站中的页面和新闻项目的数量限制为低于5000。</span><span class="sxs-lookup"><span data-stu-id="089e8-127">We recommend limiting the number of pages and news items in a modern portal site to below 5,000.</span></span>  <br/> |
|<span data-ttu-id="089e8-128">页面上的 Web 部件</span><span class="sxs-lookup"><span data-stu-id="089e8-128">Web parts on a page</span></span>  <br/> |<span data-ttu-id="089e8-129">每页20张</span><span class="sxs-lookup"><span data-stu-id="089e8-129">20 per page</span></span>  <br/> |<span data-ttu-id="089e8-130">我们建议每个页面使用20个或更少的总 web 部件，包括现成的 Microsoft web 部件和自定义 web 部件。</span><span class="sxs-lookup"><span data-stu-id="089e8-130">We recommend using 20 or fewer total web parts per page, including both out-of-the-box Microsoft web parts and custom web parts.</span></span> <br/> <span data-ttu-id="089e8-131">有关详细信息，请参阅[在 SharePoint Online 新式网站页面中优化 web 部件性能](modern-web-part-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-131">For more information, see [Optimize web part performance in SharePoint Online modern site pages](modern-web-part-optimization.md).</span></span>  <br/> |
|<span data-ttu-id="089e8-132">页面上的动态 web 部件</span><span class="sxs-lookup"><span data-stu-id="089e8-132">Dynamic web parts on a page</span></span>  <br/> |<span data-ttu-id="089e8-133">每页4个</span><span class="sxs-lookup"><span data-stu-id="089e8-133">4 per page</span></span>  <br/> |<span data-ttu-id="089e8-134">向 SharePoint 中的一个或多个查询提取最新数据的动态 web 部件应限制为每页4个。</span><span class="sxs-lookup"><span data-stu-id="089e8-134">Dynamic web parts that make one or more queries to SharePoint to fetch the latest data should be limited to 4 per page.</span></span> <span data-ttu-id="089e8-135">"_新闻_" web 部件是一个动态 web 部件的示例。</span><span class="sxs-lookup"><span data-stu-id="089e8-135">The _News_ web part is an example of a dynamic web part.</span></span> <br/> <span data-ttu-id="089e8-136">有关详细信息，请参阅[在 SharePoint Online 新式网站页面中优化 web 部件性能](modern-web-part-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-136">For more information, see [Optimize web part performance in SharePoint Online modern site pages](modern-web-part-optimization.md).</span></span>    <br/> |
|<span data-ttu-id="089e8-137">安全组</span><span class="sxs-lookup"><span data-stu-id="089e8-137">Security groups</span></span>  <br/> |<span data-ttu-id="089e8-138">每个站点20个</span><span class="sxs-lookup"><span data-stu-id="089e8-138">20 per site</span></span>  <br/> |<span data-ttu-id="089e8-139">安全组的数量会影响新式门户网站中的许多查询的规模。</span><span class="sxs-lookup"><span data-stu-id="089e8-139">The number of security groups affects the scale of many queries in modern portal sites.</span></span> <span data-ttu-id="089e8-140">我们建议您将安全组的数量限制为尽可能少，并且每个站点不超过20个。</span><span class="sxs-lookup"><span data-stu-id="089e8-140">We recommend that you limit the number of security groups to as small a set as possible, with no more than 20 per site.</span></span>  <br/> |
|<span data-ttu-id="089e8-141">网站导航中的项目</span><span class="sxs-lookup"><span data-stu-id="089e8-141">Items in site navigation</span></span>  <br/> |<span data-ttu-id="089e8-142">每个站点100</span><span class="sxs-lookup"><span data-stu-id="089e8-142">100 per site</span></span>  <br/> |<span data-ttu-id="089e8-143">建议在网站导航中添加的项目数少于100个，并使用现成的导航控件。</span><span class="sxs-lookup"><span data-stu-id="089e8-143">We recommend adding fewer than 100 items to site navigation, and that you make use of out-of-the-box navigation controls.</span></span>  <br/> <span data-ttu-id="089e8-144">有关详细信息，请参阅[优化页面权重中的 SharePoint Online 新式网站页面](modern-page-weight-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-144">For more information, see [Optimize page weight in SharePoint Online modern site pages](modern-page-weight-optimization.md).</span></span> <br/> |
|<span data-ttu-id="089e8-145">最大图像大小</span><span class="sxs-lookup"><span data-stu-id="089e8-145">Maximum image size</span></span>  <br/> |<span data-ttu-id="089e8-146">每个图像 300 Kb</span><span class="sxs-lookup"><span data-stu-id="089e8-146">300 Kb per image</span></span>  <br/> |<span data-ttu-id="089e8-147">建议将图像大小限制为300kb 或更小，并使用 CDN 承载图像、样式表和脚本。</span><span class="sxs-lookup"><span data-stu-id="089e8-147">We recommend limiting the size of images to 300kb or smaller, and using a CDN to host images, stylesheets and scripts.</span></span> <br/><span data-ttu-id="089e8-148">有关详细信息，请参阅[在 Sharepoint online 新式网站页面中优化图像](modern-image-optimization.md)和[使用 Office 365 内容传送网络（CDN）和 SharePoint online](use-office-365-cdn-with-spo.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-148">For more information, see [Optimize images in SharePoint Online modern site pages](modern-image-optimization.md) and [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-office-365-cdn-with-spo.md).</span></span>  <br/> |
|<span data-ttu-id="089e8-149">具有编辑权限的用户</span><span class="sxs-lookup"><span data-stu-id="089e8-149">Users with edit rights</span></span>  <br/> |<span data-ttu-id="089e8-150">每个网站200个用户</span><span class="sxs-lookup"><span data-stu-id="089e8-150">200 users per site</span></span>  <br/> |<span data-ttu-id="089e8-151">SharePoint 门户网站针对查看和使用内容进行了优化。</span><span class="sxs-lookup"><span data-stu-id="089e8-151">SharePoint portal sites are optimized for viewing and consuming content.</span></span> <span data-ttu-id="089e8-152">对门户的编辑权限应限制为受限制的用户组，因为编辑权限可下载其他控件，因此会对这些用户执行较慢的工作。</span><span class="sxs-lookup"><span data-stu-id="089e8-152">Edit permissions on a portal should be limited to a restricted group of users because edit permissions download additional controls and will therefore perform slower for those users.</span></span> <span data-ttu-id="089e8-153">因此，拥有编辑权限的用户数过多将影响整体体验。</span><span class="sxs-lookup"><span data-stu-id="089e8-153">An excessive number of users with edit permissions will therefore affect the overall experience.</span></span> <br/> |
|<span data-ttu-id="089e8-154">第三方 Iframe</span><span class="sxs-lookup"><span data-stu-id="089e8-154">Third party iFrames</span></span>  <br/> |<span data-ttu-id="089e8-155">每页2个</span><span class="sxs-lookup"><span data-stu-id="089e8-155">2 per page</span></span>  <br/> |<span data-ttu-id="089e8-156">Iframe 由于加载单独的外部页面（包括 javascript、CSS 和框架元素等所有关联的内容）而导致速度不可预知。</span><span class="sxs-lookup"><span data-stu-id="089e8-156">iFrames are unpredictably slow because they load a separate external page including all associated content such as javascript, CSS and framework elements.</span></span> <span data-ttu-id="089e8-157">如果必须使用 Iframe，请将它们的数目限制为2个或更少的页面。</span><span class="sxs-lookup"><span data-stu-id="089e8-157">If you must use iFrames, limit their number to 2 or fewer per page.</span></span><br/> <span data-ttu-id="089e8-158">有关详细信息，请参阅[在 SharePoint Online 新式和经典发布网站页面中优化 iframe](modern-iframe-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-158">For more information, see [Optimize iFrames in SharePoint Online modern and classic publishing site pages](modern-iframe-optimization.md).</span></span> <br/> |
|<span data-ttu-id="089e8-159">对 UPA 服务的调用</span><span class="sxs-lookup"><span data-stu-id="089e8-159">Calls to the UPA service</span></span>  <br/> |<span data-ttu-id="089e8-160">每个用户每小时1个</span><span class="sxs-lookup"><span data-stu-id="089e8-160">1 per user per hour</span></span>  <br/> |<span data-ttu-id="089e8-161">我们建议您对 UPA （User Profile Application）服务不进行_每次请求_调用。</span><span class="sxs-lookup"><span data-stu-id="089e8-161">We recommend that you make no _per request_ calls to the UPA (User Profile Application) service.</span></span> <span data-ttu-id="089e8-162">[Microsoft GRAPH API](https://docs.microsoft.com/graph/call-api)和[PageContext](https://docs.microsoft.com/javascript/api/sp-page-context/pagecontext?view=sp-typescript-latest)可用于查询用户信息。</span><span class="sxs-lookup"><span data-stu-id="089e8-162">The [Microsoft Graph API](https://docs.microsoft.com/graph/call-api) and [PageContext](https://docs.microsoft.com/javascript/api/sp-page-context/pagecontext?view=sp-typescript-latest) can be used to query for user information.</span></span>  <br/> <span data-ttu-id="089e8-163">如果需要 UPA 服务呼叫，请在需要时进行单个呼叫，然后缓存信息以便在同一会话中重复使用。</span><span class="sxs-lookup"><span data-stu-id="089e8-163">If a UPA service call is necessary, make a single call when required, and then cache the information for reuse in the same session.</span></span> |
|<span data-ttu-id="089e8-164">对分类服务的调用</span><span class="sxs-lookup"><span data-stu-id="089e8-164">Calls to the Taxonomy service</span></span>  <br/> |<span data-ttu-id="089e8-165">每个用户每小时5个</span><span class="sxs-lookup"><span data-stu-id="089e8-165">5 per user per hour</span></span>  <br/> |<span data-ttu-id="089e8-166">我们建议您对分类服务不进行_每次请求_调用。</span><span class="sxs-lookup"><span data-stu-id="089e8-166">We recommend that you make no _per request_ calls to the Taxonomy service.</span></span> <span data-ttu-id="089e8-167">如果分类服务调用是必需的，请缓存信息以便在同一个会话中重复使用。</span><span class="sxs-lookup"><span data-stu-id="089e8-167">If Taxonomy service calls are necessary, cache the information for reuse in the same session.</span></span> <br/> <span data-ttu-id="089e8-168">有关详细信息，请参阅[在 SharePoint Online 新式和经典发布网站页面中优化页面调用](modern-page-call-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="089e8-168">For more information, see [Optimize page calls in SharePoint Online modern and classic publishing site pages](modern-page-call-optimization.md).</span></span> <br/> |

## <a name="related-topics"></a><span data-ttu-id="089e8-169">相关主题</span><span class="sxs-lookup"><span data-stu-id="089e8-169">Related topics</span></span>

[<span data-ttu-id="089e8-170">创建运行状况良好的 SharePoint 门户</span><span class="sxs-lookup"><span data-stu-id="089e8-170">Creating a healthy SharePoint portal</span></span>](https://docs.microsoft.com/sharepoint/portal-health)

[<span data-ttu-id="089e8-171">优化 SharePoint Online 性能</span><span class="sxs-lookup"><span data-stu-id="089e8-171">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="089e8-172">优化 Office 365 性能</span><span class="sxs-lookup"><span data-stu-id="089e8-172">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="089e8-173">SharePoint Online 限制</span><span class="sxs-lookup"><span data-stu-id="089e8-173">SharePoint Online limits</span></span>](https://docs.microsoft.com/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits)

[<span data-ttu-id="089e8-174">新式 SharePoint 体验中的性能</span><span class="sxs-lookup"><span data-stu-id="089e8-174">Performance in the modern SharePoint experience</span></span>](https://docs.microsoft.com/sharepoint/modern-experience-performance)

[<span data-ttu-id="089e8-175">SharePoint Online 门户性能指南</span><span class="sxs-lookup"><span data-stu-id="089e8-175">Performance guidance for SharePoint Online portals</span></span>](https://docs.microsoft.com/sharepoint/dev/solution-guidance/portal-performance)
